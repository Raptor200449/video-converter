<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Convertisseur & Compresseur de fichiers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --bg: #020617;
            --bg-card: #020617;
            --bg-elevated: #020617;
            --border-subtle: #1f2937;
            --accent: #6366f1;
            --accent-soft: rgba(99, 102, 241, 0.15);
            --accent-strong: #4f46e5;
            --text: #e5e7eb;
            --text-soft: #9ca3af;
            --danger: #ef4444;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #111827 0, #020617 40%, #000 100%);
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .shell {
            max-width: 960px;
            width: 100%;
            padding: 20px;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 18px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo {
            width: 34px;
            height: 34px;
            border-radius: 12px;
            background: radial-gradient(circle at 30% 30%, #f97316, #ef4444, #6366f1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            color: white;
        }

        .title-block h1 {
            font-size: 1.3rem;
            margin: 0;
        }

        .title-block p {
            margin: 2px 0 0;
            font-size: 0.85rem;
            color: var(--text-soft);
        }

        .badge {
            font-size: 0.75rem;
            border-radius: 999px;
            padding: 4px 10px;
            border: 1px solid rgba(148, 163, 184, 0.5);
            color: var(--text-soft);
            white-space: nowrap;
        }

        .grid {
            display: grid;
            grid-template-columns: minmax(0, 1.6fr) minmax(0, 1fr);
            gap: 18px;
        }

        @media (max-width: 800px) {
            .grid {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        .card {
            background: rgba(15, 23, 42, 0.88);
            border-radius: 18px;
            border: 1px solid var(--border-subtle);
            box-shadow:
                0 22px 45px rgba(0,0,0,0.8),
                0 0 0 1px rgba(148,163,184,0.12);
            padding: 18px 18px 16px;
        }

        .card h2 {
            font-size: 1rem;
            margin: 0 0 4px;
        }

        .card-subtitle {
            font-size: 0.8rem;
            color: var(--text-soft);
            margin-bottom: 12px;
        }

        .steps {
            display: flex;
            gap: 10px;
            margin-bottom: 14px;
            flex-wrap: wrap;
        }

        .step {
            flex: 1;
            min-width: 110px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            padding: 6px 8px;
            border-radius: 999px;
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid rgba(55, 65, 81, 0.9);
        }

        .step span.icon {
            width: 18px;
            height: 18px;
            border-radius: 999px;
            background: var(--accent-soft);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            color: #c7d2fe;
        }

        .step strong {
            color: #e5e7eb;
        }

        .step small {
            display: block;
            color: var(--text-soft);
        }

        .dropzone {
            border-radius: 16px;
            padding: 18px 16px;
            border: 1.5px dashed rgba(148, 163, 184, 0.6);
            background: radial-gradient(circle at top left, rgba(56,189,248,0.08), transparent 55%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.2s, background 0.2s, transform 0.08s;
        }

        .dropzone.dragover {
            border-color: var(--accent);
            background: radial-gradient(circle at top, rgba(129,140,248,0.22), transparent 60%);
            transform: translateY(-1px);
        }

        .dz-icon {
            width: 38px;
            height: 38px;
            border-radius: 14px;
            background: rgba(15,23,42,0.94);
            border: 1px solid rgba(55,65,81,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .dz-main {
            font-size: 0.9rem;
        }

        .dz-main strong {
            color: #e5e7eb;
        }

        .dz-main span {
            color: var(--accent);
        }

        .dz-sub {
            font-size: 0.75rem;
            color: var(--text-soft);
        }

        .dz-filename {
            font-size: 0.8rem;
            color: #cbd5f5;
            background: rgba(15,23,42,0.96);
            border-radius: 999px;
            padding: 4px 10px;
            border: 1px solid rgba(55,65,81,0.9);
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        input[type="file"] {
            display: none;
        }

        .form-row {
            display: flex;
            gap: 10px;
            margin-top: 14px;
            flex-wrap: wrap;
        }

        .field {
            flex: 1;
            min-width: 140px;
        }

        .field label {
            font-size: 0.8rem;
            color: var(--text-soft);
            display: block;
            margin-bottom: 4px;
        }

        select {
            width: 100%;
            border-radius: 999px;
            border: 1px solid rgba(55,65,81,0.9);
            background: #020617;
            color: var(--text);
            padding: 7px 11px;
            font-size: 0.85rem;
            outline: none;
        }

        select:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 1px rgba(129,140,248,0.4);
        }

        .actions {
            display: flex;
            flex-direction: column;
            margin-top: 14px;
            gap: 6px;
        }

        button {
            border-radius: 999px;
            border: none;
            padding: 9px 14px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            background: linear-gradient(135deg, #6366f1, #ec4899);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: transform 0.08s, box-shadow 0.12s, opacity 0.12s;
            box-shadow: 0 10px 25px rgba(129,140,248,0.4);
        }

        button:hover:not(:disabled) {
            transform: translateY(-0.5px);
            box-shadow: 0 16px 35px rgba(129,140,248,0.5);
            opacity: 0.96;
        }

        button:disabled {
            opacity: 0.6;
            cursor: default;
            box-shadow: none;
        }

        .btn-label-main {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn-label-main span.icon {
            font-size: 1rem;
        }

        .btn-sub {
            font-size: 0.72rem;
            color: #e5e7eb;
        }

        .status {
            font-size: 0.78rem;
            color: var(--text-soft);
            display: flex;
            align-items: center;
            gap: 8px;
            min-height: 18px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: #22c55e;
        }

        .status-dot.busy {
            background: #facc15;
            animation: pulse 1s infinite ease-in-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.25); opacity: 0.4; }
            100% { transform: scale(1); opacity: 0.9; }
        }

        .side {
            display: flex;
            flex-direction: column;
            gap: 10px;
            font-size: 0.78rem;
        }

        .side-card {
            border-radius: 16px;
            border: 1px solid rgba(31,41,55,0.95);
            background: linear-gradient(145deg, rgba(15,23,42,0.96), rgba(15,23,42,0.92));
            padding: 12px 14px;
        }

        .side-title {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .pill-row {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 6px;
        }

        .pill {
            border-radius: 999px;
            border: 1px solid rgba(55,65,81,0.9);
            padding: 3px 8px;
            font-size: 0.7rem;
            color: #cbd5f5;
            background: rgba(15,23,42,0.95);
        }

        .muted {
            color: var(--text-soft);
        }

        .muted-strong {
            color: #e5e7eb;
        }

        .hint {
            font-size: 0.72rem;
            color: var(--text-soft);
            margin-top: 4px;
        }

        .limit {
            margin-top: 4px;
            font-size: 0.72rem;
            color: #fbbf24;
        }

        .legal {
            margin-top: 4px;
            font-size: 0.7rem;
            color: #6b7280;
        }
    </style>
</head>
<body>
<div class="shell">
    <header class="header">
        <div class="brand">
            <div class="logo">VC</div>
            <div class="title-block">
                <h1>Convertisseur & compresseur en ligne</h1>
                <p>Convertis et all√®ge tes vid√©os en quelques clics, sans inscription.</p>
            </div>
        </div>
        <div class="badge">
            ‚ö° 100% gratuit ‚Ä¢ tourne c√¥t√© serveur
        </div>
    </header>

    <main class="grid">
        <section class="card">
            <h2>Fichier √† transformer</h2>
            <div class="card-subtitle">
                3 √©tapes : choisis ton fichier ‚Üí s√©lectionne le format et la qualit√© ‚Üí r√©cup√®re le fichier final.
            </div>

            <div class="steps">
                <div class="step">
                    <span class="icon">1</span>
                    <div>
                        <strong>Choisis ton fichier</strong>
                        <small>Vid√©o ou audio, jusqu‚Äô√† quelques centaines de Mo.</small>
                    </div>
                </div>
                <div class="step">
                    <span class="icon">2</span>
                    <div>
                        <strong>Format & qualit√©</strong>
                        <small>MP4, MP3, MOV‚Ä¶ compression l√©g√®re ou forte.</small>
                    </div>
                </div>
                <div class="step">
                    <span class="icon">3</span>
                    <div>
                        <strong>T√©l√©charge</strong>
                        <small>Le fichier transform√© est pr√™t en un clic.</small>
                    </div>
                </div>
            </div>

            <form id="convert-form" action="/convert" method="post" enctype="multipart/form-data">
                <label for="file" class="dropzone" id="dropzone">
                    <div class="dz-icon">‚¨Ü</div>
                    <div class="dz-main">
                        <strong>D√©pose ton fichier ici</strong><br>
                        <span>ou clique pour le s√©lectionner</span>
                    </div>
                    <div class="dz-sub">
                        Formats vid√©o/audio classiques (MP4, MOV, MKV, MP3, WAV‚Ä¶)
                    </div>
                    <div class="dz-filename" id="dz-filename" style="display:none;"></div>
                    <input type="file" id="file" name="file" required>
                </label>

                <div class="form-row">
                    <div class="field">
                        <label for="target_format">Format de sortie</label>
                        <select id="target_format" name="target_format">
                            <option value="mp4">MP4 (vid√©o universelle)</option>
                            <option value="mp3">MP3 (audio compress√©)</option>
                            <option value="wav">WAV (audio brut)</option>
                            <option value="mkv">MKV (conteneur vid√©o)</option>
                            <option value="mov">MOV (vid√©o Apple)</option>
                        </select>
                    </div>

                    <div class="field">
                        <label for="quality">Qualit√© / compression</label>
                        <select id="quality" name="quality">
                            <option value="standard">Standard (qualit√© normale)</option>
                            <option value="light">L√©g√®re compression (poids r√©duit)</option>
                            <option value="strong">Forte compression (poids minimal)</option>
                        </select>
                    </div>
                </div>

                <div class="actions">
                    <button type="submit" id="convert-btn">
                        <div class="btn-label-main">
                            <span class="icon">‚öôÔ∏è</span>
                            <span>Convertir le fichier</span>
                        </div>
                        <div class="btn-sub" id="btn-subtext">
                            La conversion s‚Äôex√©cute c√¥t√© serveur, garde l‚Äôonglet ouvert.
                        </div>
                    </button>
                    <div class="status" id="status">
                        <div class="status-dot" id="status-dot"></div>
                        <span id="status-text">Pr√™t √† convertir.</span>
                    </div>
                    <div class="hint">
                        Astuce : commence par une petite vid√©o pour voir la taille finale avec chaque niveau de compression.
                    </div>
                </div>
            </form>
        </section>

        <aside class="side">
            <div class="side-card">
                <div class="side-title">Profil de sortie conseill√©</div>
                <div class="muted">
                    <span class="muted-strong">Pour TikTok / Reels / Shorts :</span>
                    <ul style="margin: 6px 0 4px 16px; padding:0;">
                        <li>Format : <strong>MP4</strong></li>
                        <li>Qualit√© : <strong>‚ÄúL√©g√®re compression‚Äù</strong></li>
                        <li>R√©sultat : fichier l√©ger, compatible partout.</li>
                    </ul>
                </div>
                <div class="pill-row">
                    <div class="pill">üîÅ Conversion serveur</div>
                    <div class="pill">üé¨ MP4, MOV, MKV</div>
                    <div class="pill">üéß MP3, WAV</div>
                </div>
                <div class="limit">
                    √âvite d‚Äôenvoyer des fichiers d‚Äô1 Go : commence plut√¥t par quelques centaines de Mo max.
                </div>
            </div>

            <div class="side-card">
                <div class="side-title">Bon √† savoir</div>
                <div class="muted">
                    - Plus la compression est forte, plus la qualit√© baisse l√©g√®rement.<br>
                    - Sur les vid√©os tr√®s longues, la conversion peut prendre du temps.<br>
                    - Tu peux toujours relancer avec un autre niveau de compression.
                </div>
                <div class="legal">
                    N‚Äôenvoie que des fichiers dont tu poss√®des les droits ou l‚Äôautorisation de traitement.
                </div>
            </div>
        </aside>
    </main>
</div>

<script>
    const fileInput = document.getElementById('file');
    const dropzone = document.getElementById('dropzone');
    const filenameEl = document.getElementById('dz-filename');
    const form = document.getElementById('convert-form');
    const btn = document.getElementById('convert-btn');
    const statusText = document.getElementById('status-text');
    const statusDot = document.getElementById('status-dot');
    const btnSub = document.getElementById('btn-subtext');

    function updateFilename() {
        const file = fileInput.files[0];
        if (file) {
            filenameEl.style.display = 'inline-block';
            filenameEl.textContent = file.name + ' ‚Ä¢ ' + Math.round(file.size / 1024 / 1024 * 10) / 10 + ' Mo';
        } else {
            filenameEl.style.display = 'none';
            filenameEl.textContent = '';
        }
    }

    dropzone.addEventListener('click', () => fileInput.click());

    dropzone.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropzone.classList.add('dragover');
    });

    dropzone.addEventListener('dragleave', (e) => {
        e.preventDefault();
        dropzone.classList.remove('dragover');
    });

    dropzone.addEventListener('drop', (e) => {
        e.preventDefault();
        dropzone.classList.remove('dragover');
        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {
            fileInput.files = e.dataTransfer.files;
            updateFilename();
        }
    });

    fileInput.addEventListener('change', updateFilename);

    form.addEventListener('submit', () => {
        if (!fileInput.files[0]) {
            return;
        }
        btn.disabled = true;
        statusDot.classList.add('busy');
        statusText.textContent = 'Conversion en cours‚Ä¶ ne ferme pas cette page.';
        btnSub.textContent = 'La conversion peut prendre un peu de temps selon la taille du fichier.';
    });
</script>
</body>
</html>
